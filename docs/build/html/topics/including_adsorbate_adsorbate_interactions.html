<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Including Adsorbate-Adsorbate Interactions &mdash; CatMAP 0.2.79 documentation</title>
    
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.79',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="CatMAP 0.2.79 documentation" href="../index.html" />
    <link rel="up" title="Topics" href="index.html" />
    <link rel="next" title="Electrochemistry" href="electrochemistry.html" />
    <link rel="prev" title="Using Thermodynamic Descriptors" href="thermodynamic_descriptors.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="electrochemistry.html" title="Electrochemistry"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="thermodynamic_descriptors.html" title="Using Thermodynamic Descriptors"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CatMAP 0.2.79 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Topics</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="including-adsorbate-adsorbate-interactions">
<h1>Including Adsorbate-Adsorbate Interactions<a class="headerlink" href="#including-adsorbate-adsorbate-interactions" title="Permalink to this headline">¶</a></h1>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The support of adsorbate-adsorbate interactions in CatMAP is currently undergoing
significant changes. This will produce backwards-incompatible changes and this
tutorial will change accordingly.</p>
</div>
<p>In all of the previous tutorials we have made some assumptions about how
the adsorbed species interact with the surface lattice and each other.
Specifically, we assume that every species adsorbs at a single site and
does not interact with its neighbors. In this tutorial we will examine
these assumptions more closely and consider some strategies for making
more advanced assumptions. Please note that while most of the other
features of CatMAP are relatively well tested, the features outlined in
this tutorial have had very little testing/error checking so please be
careful if using them in your research (and naturally let the
<a class="reference external" href="mailto:mkm-developers&#37;&#52;&#48;stanford&#46;edu">developers list</a> know about any
issues).</p>
<p>It is also worth mentioning that while &#8220;ideal&#8221; mean-field models like
the ones shown previously are usually mathematically well-behaved and
thus exhibit &#8220;existence and uniqueness&#8221; (there is one and only one
steady-state solution), all bets are off once adsorbate interactions are
included. Thus it is likely possible to construct models which have
oscillating solutions or no solutions at all (within the physical
bounds). Naturally a system with no solution at all is unphysical, so as
long as you make good assumptions then you should be okay. However,
oscillating solutions are slightly trickier and it can be very hard to
determine if/when this is an issue since CatMAP uses root finding to get
the steady-state solution. I have yet to come across an example where
CatMAP cannot find a solution to a realistic model, but be aware that it
could happen.</p>
<p>We will continue with the CO oxidation example to avoid having to create
completely new files. The tutorials will seek to demonstrate the options
available within CatMAP, even if these options are not physical for the
CO oxidation system, so don&#8217;t take the outputs too seriously. The
tutorial is divided into 2 parts which do not necessarily need to be
followed sequentially:</p>
<ul class="simple">
<li><a class="reference external" href="#multisite">Multi-site adsorbates and maximum coverages</a></li>
<li><a class="reference external" href="#interactions">Coverage dependent adsorption energies</a></li>
</ul>
<p>For both sections we will use a submission script (mkm_job.py) similar
to the one in the <a class="reference external" href="Using%20Thermodynamic%20Descriptors">thermodynamic
descriptors</a> tutorial:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">catmap</span> <span class="kn">import</span> <span class="n">ReactionModel</span>

<span class="n">mkm_file</span> <span class="o">=</span> <span class="s">&#39;CO_oxidation.mkm&#39;</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">ReactionModel</span><span class="p">(</span><span class="n">setup_file</span><span class="o">=</span><span class="n">mkm_file</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">output_variables</span> <span class="o">+=</span> <span class="p">[</span><span class="s">&#39;production_rate&#39;</span><span class="p">]</span>
<span class="n">model</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="kn">from</span> <span class="nn">catmap</span> <span class="kn">import</span> <span class="n">analyze</span>
<span class="n">vm</span> <span class="o">=</span> <span class="n">analyze</span><span class="o">.</span><span class="n">VectorMap</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
<span class="n">vm</span><span class="o">.</span><span class="n">plot_variable</span> <span class="o">=</span> <span class="s">&#39;production_rate&#39;</span> <span class="c">#tell the model which output to plot</span>
<span class="n">vm</span><span class="o">.</span><span class="n">log_scale</span> <span class="o">=</span> <span class="bp">True</span> <span class="c">#rates should be plotted on a log-scale</span>
<span class="n">vm</span><span class="o">.</span><span class="n">min</span> <span class="o">=</span> <span class="mf">1e-25</span> <span class="c">#minimum rate to plot</span>
<span class="n">vm</span><span class="o">.</span><span class="n">max</span> <span class="o">=</span> <span class="mf">1e8</span> <span class="c">#maximum rate to plot</span>
<span class="n">vm</span><span class="o">.</span><span class="n">threshold</span> <span class="o">=</span> <span class="mf">1e-25</span> <span class="c">#anything below this is considered to be 0</span>
<span class="n">vm</span><span class="o">.</span><span class="n">subplots_adjust_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;left&#39;</span><span class="p">:</span><span class="mf">0.2</span><span class="p">,</span><span class="s">&#39;right&#39;</span><span class="p">:</span><span class="mf">0.8</span><span class="p">,</span><span class="s">&#39;bottom&#39;</span><span class="p">:</span><span class="mf">0.15</span><span class="p">}</span>
<span class="n">vm</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">save</span><span class="o">=</span><span class="s">&#39;production_rate.pdf&#39;</span><span class="p">)</span>

<span class="n">vm</span><span class="o">.</span><span class="n">plot_variable</span> <span class="o">=</span> <span class="s">&#39;coverage&#39;</span> <span class="c">#tell the model which output to plot</span>
<span class="n">vm</span><span class="o">.</span><span class="n">log_scale</span> <span class="o">=</span> <span class="bp">False</span> <span class="c">#coverage should not be plotted on a log-scale</span>
<span class="n">vm</span><span class="o">.</span><span class="n">min</span> <span class="o">=</span> <span class="mi">0</span> <span class="c">#minimum coverage</span>
<span class="n">vm</span><span class="o">.</span><span class="n">max</span> <span class="o">=</span> <span class="mi">1</span> <span class="c">#maximum coverage</span>
<span class="n">vm</span><span class="o">.</span><span class="n">subplots_adjust_kwargs</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;left&#39;</span><span class="p">:</span><span class="mf">0.2</span><span class="p">,</span><span class="s">&#39;right&#39;</span><span class="p">:</span><span class="mf">0.8</span><span class="p">,</span><span class="s">&#39;bottom&#39;</span><span class="p">:</span><span class="mf">0.15</span><span class="p">,</span><span class="s">&#39;wspace&#39;</span><span class="p">:</span><span class="mf">0.6</span><span class="p">}</span>
<span class="n">vm</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">save</span><span class="o">=</span><span class="s">&#39;coverage.pdf&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We use the same input file (energies.txt) and start with the same setup
file (CO_oxidation.mkm) from <a class="reference external" href="../tutorials/2%20Creating%20a%20Microkinetic%20Model">Tutorial
2</a>. Note that each section
assumes you are starting with the &#8220;fresh&#8221; CO_oxidation.mkm file from
<a class="reference external" href="../tutorials/2%20Creating%20a%20Microkinetic%20Model">Tutorial 2</a>.</p>
<div class="section" id="multi-site-adsorbates-and-maximum-coverages">
<h2>Multi-site adsorbates and maximum coverages<a class="headerlink" href="#multi-site-adsorbates-and-maximum-coverages" title="Permalink to this headline">¶</a></h2>
<p>One very simple way of including adsorbate interactions is the &#8220;hard
sphere exclusion&#8221; model. Actually, we have already assumed this (each
site can have only 0 or 1 adsorbate), but we can also extend the
assumption to allow adsorbates to occupy more than 1 site, or to set a
&#8220;maximum coverage&#8221; for an adsorbate. Lets take a look at the multi-site
adsorbates first:</p>
<div class="section" id="multi-site-adsorption">
<h3>Multi-site adsorption<a class="headerlink" href="#multi-site-adsorption" title="Permalink to this headline">¶</a></h3>
<p>CatMAP includes the ability to allow and adsorbate to adsorb to multiple
sites of the same type. For instance, lets say that we want to force CO
to adsorb to 2 sites. This is achieved by editing the
&#8220;rxn_expressions&#8221;:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">rxn_expressions</span> <span class="o">=</span> <span class="p">[</span>

               <span class="s">&#39;2*_s + CO_g -&gt; CO*&#39;</span><span class="p">,</span>
               <span class="s">&#39;2*_s + O2_g &lt;-&gt; O-O* + *_s -&gt; 2O*&#39;</span><span class="p">,</span>
               <span class="s">&#39;CO* +  O* &lt;-&gt; O-CO* + 2* -&gt; CO2_g + 3*&#39;</span><span class="p">,</span>

                   <span class="p">]</span>
</pre></div>
</div>
<p>Note that we had to edit the number of sites on the CO adsorption and
desorption reactions in order to make everything consistent. The next
thing we need to do is tell CatMAP that CO occupies 2 sites, so that it
doesn&#8217;t get confused about the site balance:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">species_definitions</span><span class="p">[</span><span class="s">&#39;CO_s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;n_sites&#39;</span><span class="p">:</span><span class="mi">2</span><span class="p">}</span>
</pre></div>
</div>
<p>Now we can run the model and get the following coverages:</p>
<div class="figure align-center">
<img alt="../_images/5_multisite_coverage.png" src="../_images/5_multisite_coverage.png" />
</div>
<p>and rate:</p>
<div class="figure align-center">
<img alt="../_images/5_multisite_rate.png" src="../_images/5_multisite_rate.png" />
</div>
<p>If we compare these to <a class="reference external" href="2%20Creating%20a%20Microkinetic%20Model">Tutorial
2</a> then we can see that the
CO* coverage is suppressed and there is more O* in the bottom left of
the plot. This is what we would expect to happen when we require an
adsorbate to have an extra free site to adsorb.</p>
<p>There is one thing worth noting about this approach. If coverage was
defined as number of CO per number of surface sites we would expect the
maximum CO coverage to be 0.5 since it occupies 2 sites. However, it is
clear from the plot that the coverage goes to 1. That is because we have
re-defined the number of &#8220;total sites&#8221; to be a factor of 2 less for CO
so that the maximum coverage of an adsorbate is always 1. This is
equivalent to assuming that the probability of an adsorbate which
occupies 2 sites reacting with another adsorbate is a factor of 2 higher
since the site it sits on is 2 times larger. Depending on the system
this may be a poor assumption, but it is the only option currently
implemented in CatMAP.</p>
</div>
<div class="section" id="maximum-coverages">
<h3>Maximum coverages<a class="headerlink" href="#maximum-coverages" title="Permalink to this headline">¶</a></h3>
<p>There may also be circumstances where we wish to constrain certain
adsorbates to have a maximum coverage. This can easily be achieved by
adding the line:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">species_definitions</span><span class="p">[</span><span class="s">&#39;CO_s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;max_coverage&#39;</span><span class="p">:</span><span class="mf">0.5</span><span class="p">}</span>
</pre></div>
</div>
<p>to CO_oxidation.mkm. However, when you run the submission script you
will notice that after a lot of complaining CatMAP will give the
following:</p>
<div class="highlight-python"><div class="highlight"><pre>mapper_iteration_3: fail - no solution at 99 points.
</pre></div>
</div>
<p>This is the first time we have encountered a model that will not
converge. Normally we would try to get convergence by increasing
&#8220;max_bisections&#8221; or other parameters as discussed in <a class="reference external" href="3%20Refining%20a%20Microkinetic%20Model">Tutorial
3</a>. However, in this case it
is hopeless. This is probably because there is no solution within the
bounds we have defined (which means they are not physical). This isn&#8217;t
too surprising since we just made the constraint up. We can still take a
look at the points that did converge in coverages.pdf:</p>
<div class="figure align-center">
<img alt="../_images/5_maxcov_coverage.png" src="../_images/5_maxcov_coverage.png" />
</div>
<p>This is pretty consistent with what we might expect. The model converges
everywhere that CO coverage is less than 0.5 in the unconstrained
solution, but starts to break down when the constraint limits the CO
coverage to less than what is found in the unconstrained solution.
Although this approach does not really make physical sense here, there
could be systems where it does. In these cases CatMAP should be able to
find a valid solution. Note that the &#8220;max_coverage&#8221; only pertains to
one adsorbate, and does not inhibit competitive adsorption (i.e. you
could have CO coverage of 0.5 and O coverage of 0.5).</p>
</div>
</div>
<div class="section" id="coverage-dependent-adsorption-eneriges">
<h2>Coverage dependent adsorption eneriges<a class="headerlink" href="#coverage-dependent-adsorption-eneriges" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>A more powerful method for including adsorbate-adsorbate interactions</div></blockquote>
<p>is to allow adsorption energies to depend on the coverages the
adsorbates. This is still relatively crude compared to an explicit
lattice method like kinetic Monte Carlo, but it should provide a good
picture of the first-order effects of coverage . Of course there are
many ways to parameterize such a model, but there is currently only one
option implemented in CatMAP - the &#8220;first order adsorption energy&#8221;
model. We will first introduce the model, then look at how to use it in
CatMAP, and finally show an example of how to apply it to the CO
oxidation example.</p>
<div class="section" id="first-order-adsorption-energy-model">
<h3>First order adsorption energy model<a class="headerlink" href="#first-order-adsorption-energy-model" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>In this model we assume that adsorption energies follow the following</div></blockquote>
<p>relationship:</p>
<div class="math">
\[\begin{split}E_{i} =&amp; E_{i}^{i} +  \sum_{j} {\cal{F} (|\theta|_{j}) \varepsilon_{ij} \theta_{j}} \\
|\theta|_j =&amp; \sum_{{\mathrm{site}_k}={\mathrm{site}_j}} \theta_{k}\end{split}\]</div>
<p>where <span class="math">\(E_{i}\)</span> is the <a class="reference external" href="1%20Generating%20an%20Input%20File#formation_energy">generalized formation
energy</a> for
species <span class="math">\(i\)</span>, |θ|j is the total coverage of occupied sites for the site
on which adsorbate <span class="math">\(j\)</span> is adsorbed, <span class="math">\(\varepsilon_{ij}\)</span> is the &#8220;interaction matrix&#8221;, and
<strong>F</strong> is the &#8220;interaction response function&#8221; which is usually some
smoothed piecewise linear function and will be discussed later. When
computing the Jacobian matrix for the system we will also need the
derivative of the energy with respect to coverages. This is given by:</p>
<div class="math">
\[\frac{\partial E_{i}}{\partial \theta_l} = \sum_{j} \varepsilon_{ij}
\left(
 \frac{\rm{d} \cal{F} \left(|\theta|_j\right)}{\rm{d}|\theta|_j} \frac{\rm{d}|\theta|_j}{\rm{d}\theta_{l}} \theta_{j} + \cal{F} \left(|\theta|_j\right)\delta_{jl}
\right)\]</div>
<p>The model is called &#8220;first order&#8221; since it includes only one term of
coverage dependence, and this term is first order in the coverage (and
<span class="math">\(\cal{F}\)</span>).</p>
<p>We see that in order to calculate adsorption energies we need the
function <span class="math">\(\cal{F}\)</span>, and the matrix <span class="math">\(\varepsilon\)</span>.
We will also end up needing the derivative of the function <span class="math">\(\cal{F}\)</span> w.r.t. <span class="math">\(|θ|_j\)</span> . These two quantities
will be discussed below.</p>
<div class="section" id="interaction-response-function">
<h4>Interaction response function<a class="headerlink" href="#interaction-response-function" title="Permalink to this headline">¶</a></h4>
<p>The &#8220;interaction response function&#8221; determines how much the adsorption
energy changes as a function of the total coverage at a site. This is
necessary because adsorption energies often follow non-linear behavior
as a function of coverage. Some examples of possible response functions
are shown below:</p>
<div class="figure">
<img alt="../_images/5_response_funcs.png" src="../_images/5_response_funcs.png" />
</div>
<p>The &#8220;linear&#8221;, &#8220;piecewise_linear&#8221;, and &#8220;smooth_piecewise_linear&#8221; are
implemented in CatMAP, while the &#8220;linear_step&#8221; is a hypothetical model
which could be implemented. Depending on the complexity of the
interaction response function it will require some parameters. The
parameters are &#8220;site specific&#8221;, so that if you have a model with step
sites and terrace sites you could use different &#8220;cutoffs&#8221; for the
piecewise linear response function. However, the parameters do not vary
by adsorbate which limits the complexity of the model.</p>
</div>
<div class="section" id="interaction-matrix">
<h4>Interaction matrix<a class="headerlink" href="#interaction-matrix" title="Permalink to this headline">¶</a></h4>
<p>The other key input for the &#8220;first order&#8221; interaction model is the
&#8220;interaction matrix&#8221;, εij. There are two types of terms in this matrix -
&#8220;self interaction&#8221; terms (<span class="math">\(\varepsilon_{ii}\)</span>) and &#8220;cross interaction&#8221; terms (<span class="math">\(\varepsilon_{ij} (i\ne j)\)</span>).
As the name suggests the &#8220;self interaction&#8221; terms tell how much
an adsorbate interacts with itself, while &#8220;cross interactions&#8221; tell how
much it interacts with other adsorbates. The interaction matrix is
symmetric (<span class="math">\(\varepsilon_{ij} = \varepsilon_{ji}\)</span>). The values for the matrix are determined by
fitting to data. If the differential binding energies are available at
various coverages then the fitting is very straight-forward. However, in
most cases density functional theory (DFT) will be used to calculate
binding energies. Due to the discreet nature of coverages in DFT, it is
impossible to calculate differential binding energies. Instead, average
binding energies are calculated and used to obtain the interaction
parameters. The definition of average binding energy is:</p>
<div class="math">
\[\begin{split}\bar{E}_i =&amp; \frac{\int_{0}^{\theta_i} E_{i} \rm{d} \theta_{i}}{|\theta|_i} \\
=&amp; \frac{\int_0^{\theta_i} \left(E_i^0 + \sum_k \cal{F}(|\theta|_k)\varepsilon_{ik}\theta_k \right) \rm{d}\theta_i}{|\theta|_i}\end{split}\]</div>
<p>from this we can solve for the self-interaction parameters:</p>
<p>These equations look nasty at first site, but the form of <span class="math">\(\cal{F}\)</span> is
usually simple enough that they aren&#8217;t so intimidating. CatMAP also
includes the ability to fit the self-interaction functions
automatically, as discussed later.</p>
<p>The cross interaction terms are very costly to calculate, since they
require many DFT calculations (two per adsorbate per adsorbate, or
Nadsorbates2). For this reason it is common to use some approximations.
The most common approximations are:</p>
<div class="math">
\[\begin{split}{\mathrm{geometric\ mean:}}\ \varepsilon_{ij} =&amp; \sqrt{|\varepsilon_{ii} \varepsilon_{jj}|} \\
{\mathrm{arithmetic\ mean:}}\ \varepsilon_{ij} =&amp; (\varepsilon_{ii} + \varepsilon_{j})/2\\
{\mathrm{ neglect:}}\ \varepsilon_{ij} =&amp; 0\end{split}\]</div>
<p>In CatMAP the cross interaction terms are between adsorbate-adsorbate
and adsorbate-transition_states. This means that the interaction matrix
is actually (Nadsorbate+Ntransition-state)2. Both self and cross
interactions between transition states are neglected since by definition
their coverage will always be negligible. However, cross interactions
between adsorbates and transition-states is not negligible. Since we
don&#8217;t have any self-interaction parameters for transition-states, we
need some method of estimating them. This can be done by:</p>
<ul class="simple">
<li>transition-state scaling: transition-state scaling is used to
estimate the cross parameters so that the transition-state scaling
relation holds (best approximation if available)</li>
<li>initial state: use the cross interaction parameters corresponding to
the initial state (forward barrier is static)</li>
<li>final state: use the cross interaction parameters corresponding to
the final state (reverse barrier is static)</li>
<li>intermediate state: use some weighted average of the initial and
final state interactions (usually 0.5).</li>
<li>neglect: assume to be 0 (all barriers decrease)</li>
</ul>
</div>
</div>
<div class="section" id="implementation-in-catmap">
<h3>Implementation in CatMAP<a class="headerlink" href="#implementation-in-catmap" title="Permalink to this headline">¶</a></h3>
<p>The implementation of adsorbate-interactions requires modifications at
many levels of CatMAP - specifically, the solver, scaler, and parser
have been modified for the first order interaction model. However, the
place that the &#8220;interactions&#8221; fit most logically into the design of
CatMAP is in the &#8220;thermodynamics&#8221; since technically this is a
modification of the assumption of non-interacting adsorbates. For this
reason, most of the implementation has been abstracted into a class
which is in the thermodynamics directory. If you are not developing then
this is not a concern, but just be aware that in order to use the &#8220;first
order&#8221; interaction model (or others in the future) you need to ensure
that the parser, scaler, and solver are compatible. Currently the
default parser (TableParser), scaler (GeneralizedLinearScaler), and
solver (SteadyStateSolver) are the only ones compatible with interaction
models.</p>
<div class="section" id="relevant-attributes">
<h4>Relevant Attributes<a class="headerlink" href="#relevant-attributes" title="Permalink to this headline">¶</a></h4>
<p>The implementation relies on the following attributes of the reaction
model:</p>
<ul>
<li><p class="first">adsorbate_interaction_model: Determines which model to use.
Currently can be &#8216;ideal&#8217; (default) or &#8216;first_order&#8217;</p>
</li>
<li><p class="first">interaction_response_function: The function <span class="math">\(F\)</span> from
<a class="reference external" href="#first_order_model">above</a>. Can be &#8216;linear&#8217;, &#8216;piecewise_linear&#8217;,
or &#8216;smooth_piecewise_linear&#8217;. Can also be a callable function which
takes the total coverage of a site as its first argument and the
&#8220;interaction_response_parameters&#8221; dictionary as a <cite>**kwargs</cite>
argument. Must return the value and derivative of the function at the
specified total coverage.</p>
</li>
<li><p class="first">interaction_response_parameters: This is a dictionary of argument
names/values to be used in the &#8220;interaction_response_function&#8221;. The
&#8220;interaction_response_parameters&#8221; can be specified as an attribute
of the ReactionModel (use the same parameters for all sites) or as a
key/value in the &#8220;species_definitions&#8221; dictionary for different
sites (use different parameters for different sites).</p>
</li>
<li><p class="first">self_interaction_parameters: These are the self interaction
parameters for a given adsorbate. They should be specified as a
key/value in the species definition entry for the adsorbate. The key
should be &#8220;self_interaction_parameters&#8221; and the value should be a
list of the same length as &#8220;surface_names&#8221;. The parameters should be
entered for each surface in the same order that the surfaces appear
in &#8220;surface_names&#8221;. If an interaction parameter is not available for
a surface then None should be entered.</p>
</li>
<li><p class="first">cross_interaction_parameters: Cross-interaction parameters can be
input as a key/value pair in the species_definitions entry for one
of the two adsorbates. The key should be
&#8220;cross_interaction_parameters&#8221; and the value should be a dictionary
where the key is the other adsorbate of the cross interaction pair
and the value is a list of the same length as &#8220;surface names&#8221; where
the parameters are input similar to the
&#8220;self_interaction_parameters&#8221;. The following is an example of how
this might appear in the setup file for neglecting CO-O cross
interactions on Pt, Pd, and Rh:</p>
<div class="code python highlight-python"><div class="highlight"><pre>...
surface_names = [&#39;Pt&#39;,&#39;Pd&#39;,&#39;Rh&#39;]
...
species_definitions[&#39;CO_s&#39;] = {&#39;cross_interaction_parameters&#39;:{&#39;O_s&#39;:[0,0,0]}}
..
</pre></div>
</div>
<p>Explicitly specifying cross interaction parameters is optional. Any
parameters that are not explicitly specified will be estimated as
specified by &#8220;cross_interaction_mode&#8221;. Note that one parameter must
be specified for each surface, and None can be used if a value is
unknown. The &#8220;surface_names&#8221; in the example above is the same
&#8220;surface_names&#8221; which defines the surfaces in the entire model, and
thus should only be defined once.</p>
</li>
<li><p class="first">max_self_interaction: Practically it is sometimes found that the
self interaction parameter should not be larger than some cutoff.
This can be specified by setting the &#8220;max_self_interaction&#8221; key in
the species_definitions dictionary for the adsorbate to either the
numerical value or a name of one of the &#8220;surface_names&#8221; to
automatically bound the interaction parameter at the value for that
surface. The attribute can also be added directly to the
ReactionModel in order to bound all self interaction parameters (for
this, especially, using a &#8220;surface name&#8221; as a bound is recommended).</p>
</li>
<li><p class="first">cross_interaction_mode: The cross interaction mode tells CatMAP how
to approximate cross interaction parameters that are not specified
explicitly. The values can be: &#8216;geometric_mean&#8217; (default),
&#8216;arithmetic_mean&#8217; or &#8216;neglect&#8217; as described
<a class="reference external" href="#cross_interaction_mode">above</a>.</p>
</li>
<li><p class="first">transition_state_cross_interaction_mode: Similar to
&#8220;cross_interaction_mode&#8221; but for transition-states. Can be
&#8216;transition_state_scaling&#8217;, &#8216;initial_state&#8217;, &#8216;final_state&#8217;,
&#8216;intermediate_state&#8217;, or &#8216;neglect&#8217; as described
<a class="reference external" href="#cross_interaction_mode">above</a>. Using &#8216;intermediate_state&#8217; will
assume a weight of 0.5, or you can specify &#8216;intermediate_state(X)&#8217;
to set a weight of X.</p>
</li>
<li><p class="first">interaction_scaling_constraint_dict: The equivalent of
&#8220;scaling_constraint_dict&#8221; but for interaction parameters. By
default, &#8220;scaling_constraint_dict&#8221; will be used, but constraints
which force slopes to be positive/negative will be removed since sign
changes are expected between the &#8220;adsorbate scaling&#8221; coefficient and
the interaction parameter scaling coefficient. Any parameter which
does not have scaling constraints defined will be set to the
&#8220;default_interaction_constraints&#8221; attribute ([None,None,None] by
default).. Cross interaction parameter names are defined by &#8216;A&amp;B&#8217; and
can appear in either order. For example, to constrain the cross
parameter between O* and CO* to scale only with the first
descriptor we could do:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">interaction_scaling_constraint_dict</span><span class="p">[</span><span class="s">&#39;O_s&amp;CO_s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="bp">None</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="bp">None</span><span class="p">]</span>
</pre></div>
</div>
<p>Defining the constraint for &#8216;CO_s&amp;O_s&#8217; would be equivalent. See
<a class="reference external" href="2%20Creating%20a%20Microkinetic%20model">Tutorial 2</a> for a
refresher on the syntax of constraint definitions.</p>
</li>
<li><p class="first">non_interacting_site_pairs: Pairs of site names which are not
interacting. All cross interactions between adsorbates on these sites
will be set to 0. For example, to prevent cross interactions between
adsorbates on the &#8216;s&#8217; and &#8216;t&#8217; site:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">non_interacting_site_pairs</span> <span class="o">=</span> <span class="p">[[</span><span class="s">&#39;s&#39;</span><span class="p">,</span><span class="s">&#39;t&#39;</span><span class="p">]]</span>
</pre></div>
</div>
<p>The order of adsorbates does not matter since the interaction matrix
is symmetric.</p>
</li>
<li><p class="first">interaction_strength: All interaction parameters will be multiplied
by this. Should be floatable. Defaults to 1. Useful for getting model
to converge.</p>
</li>
<li><p class="first">interaction_fitting_mode: Determines how to construct fits to raw
data. Can be None (default), &#8216;average_self&#8217;. None implies that
CatMAP should not try to automatically do any fitting because the
parameters are explicitly specified. Using &#8220;average_self&#8221; will fit
the self interaction parameters assuming that there are
coverage-dependent average adsorption energies in the input file.</p>
</li>
</ul>
<p>In addition, the interaction matrix can be included as an output for
error-checking (this is recommended since the interaction model is still
relatively new). Simply include &#8220;interaction_matrix&#8221; in the
&#8220;output_variables&#8221; and analyze the output as described in <a class="reference external" href="2%20Creating%20a%20Microkinetic%20model">Tutorial
2</a>.</p>
</div>
</div>
<div class="section" id="co-oxidation-example">
<h3>CO Oxidation Example<a class="headerlink" href="#co-oxidation-example" title="Permalink to this headline">¶</a></h3>
<div class="section" id="including-coverage-dependent-interactions">
<h4>Including coverage-dependent interactions<a class="headerlink" href="#including-coverage-dependent-interactions" title="Permalink to this headline">¶</a></h4>
<p>First, lets assume that we already know the self-interaction parameters
and want to include coverage dependent adsorbate interactions on top of
the model discussed in <a class="reference external" href="2%20Creating%20a%20Microkinetic%20Model">Tutorial
2</a>. In order to do this we
need to add the following to the CO_oxidation.mkm setup file:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">adsorbate_interaction_model</span> <span class="o">=</span> <span class="s">&#39;first_order&#39;</span> <span class="c">#use &quot;first order&quot; interaction model</span>
<span class="n">interaction_response_function</span> <span class="o">=</span> <span class="s">&#39;smooth_piecewise_linear&#39;</span> <span class="c">#use &quot;smooth piecewise linear&quot; interactions</span>
<span class="n">species_definitions</span><span class="p">[</span><span class="s">&#39;s&#39;</span><span class="p">][</span><span class="s">&#39;interaction_response_parameters&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;cutoff&#39;</span><span class="p">:</span><span class="mf">0.25</span><span class="p">,</span><span class="s">&#39;smoothing&#39;</span><span class="p">:</span><span class="mf">0.01</span><span class="p">}</span>
<span class="c">#input the interaction paramters</span>
<span class="c">#surface_names = [&#39;Pt&#39;, &#39;Ag&#39;, &#39;Cu&#39;,&#39;Rh&#39;,&#39;Pd&#39;,&#39;Au&#39;,&#39;Ru&#39;,&#39;Ni&#39;] #surface order reminder</span>
<span class="n">species_definitions</span><span class="p">[</span><span class="s">&#39;CO_s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;self_interaction_parameter&#39;</span><span class="p">:[</span><span class="mf">3.248</span><span class="p">,</span> <span class="mf">0.965</span><span class="p">,</span> <span class="mf">3.289</span><span class="p">,</span> <span class="mf">3.209</span><span class="p">,</span> <span class="mf">3.68</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">]}</span>
<span class="n">species_definitions</span><span class="p">[</span><span class="s">&#39;O_s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;self_interaction_parameter&#39;</span><span class="p">:[</span><span class="mf">3.405</span><span class="p">,</span> <span class="mf">5.252</span><span class="p">,</span> <span class="mf">6.396</span><span class="p">,</span> <span class="mf">2.708</span><span class="p">,</span> <span class="mf">3.87</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">]}</span>
<span class="n">max_self_interaction</span> <span class="o">=</span> <span class="s">&#39;Pd&#39;</span> <span class="c">#self interaction parameters cannot be higher than the parameter for Pd</span>
<span class="n">transition_state_cross_interaction_mode</span> <span class="o">=</span> <span class="s">&#39;transition_state_scaling&#39;</span> <span class="c">#use TS scaling for TS interaction</span>
<span class="n">cross_interaction_mode</span> <span class="o">=</span> <span class="s">&#39;geometric_mean&#39;</span> <span class="c">#use geometric mean for cross parameters</span>
</pre></div>
</div>
<p>If we use the same submission script as before we should get the
following outputs for coverage and rate:</p>
<p>We can see that the coverages change much more gradually, as expected.
The rate volcano is a little worrying since it now predicts Pt and Pd to
be some of the worst catalysts. However, we recall that the reaction
mechanism here is very simplistic, and that we are only looking at the
(111) surfaces. A more realistic analysis would reveal that Pt and Pd
are still the optimal catalysts, as shown by <a class="reference external" href="http://link.springer.com/article/10.1007/s11244-010-9455-2">Grabow et.
al.</a>.</p>
</div>
<div class="section" id="including-scaled-cross-interactions">
<h4>Including scaled cross interactions<a class="headerlink" href="#including-scaled-cross-interactions" title="Permalink to this headline">¶</a></h4>
<p>In the previous section we used the &#8220;geometric mean&#8221; approximation to
get the cross-interaction terms from the self-interaction terms. While
this is a good first approximation, it is sometimes not sufficiently
accurate. In order to account for this it is possible to also include
some cross-interaction terms as scaled parameters. For a very unphysical
example, we will neglect cross-interactions between adsorbed O and CO,
and between adsorbed CO and the O-O transition-state. This can be done
by adding the following to the species definition for adsorbed CO:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">species_definitions</span><span class="p">[</span><span class="s">&#39;CO_s&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;self_interaction_parameter&#39;</span><span class="p">:[</span><span class="mf">3.248</span><span class="p">,</span> <span class="mf">0.965</span><span class="p">,</span> <span class="mf">3.289</span><span class="p">,</span> <span class="mf">3.209</span><span class="p">,</span> <span class="mf">3.68</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">],</span>
                    <span class="s">&#39;cross_interaction_parameters&#39;</span><span class="p">:{</span><span class="s">&#39;O_s&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],</span><span class="s">&#39;O-O_s&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]}}</span>
</pre></div>
</div>
<p>We note that the cross interactions could have equivalently been defined
in the species definitions for adsorbed O and the O-O transition-states
(where CO_s would be the key of the cross_interaction_parameters
dictionary) but it is easier to group them both into the CO_s
definition. If we now run the submission script we get the following
outputs:</p>
<div class="figure align-center">
<img alt="../_images/5_cross_interactions_coverage.png" src="../_images/5_cross_interactions_coverage.png" />
</div>
<div class="figure align-center">
<img alt="../_images/5_cross_interactions_rate.png" src="../_images/5_cross_interactions_rate.png" />
</div>
<p>These results are not physical because there is no reason to expect that
CO does not interact with O or O-O, but they do illustrate the syntax
for specifying arbitrary cross interaction parameters. Note that the
vector of zeroes here is the same length as the number of surfaces. Much
like the self interaction parameters, the values of these cross
interactions must be in the same order as the order of the surface
names, with any unknown parameters given as None. If actual parameters
were input instead of zeroes, then they would also be estimated using
scaling relations in the same way the self interaction parameters are.</p>
</div>
<div class="section" id="using-catmap-to-fit-self-interactions">
<h4>Using CatMAP to fit self interactions<a class="headerlink" href="#using-catmap-to-fit-self-interactions" title="Permalink to this headline">¶</a></h4>
<p>In many cases the interaction parameters will not be available and they
must be determined from some set of coverage dependent raw data. In this
situation it is very convenient to have the interaction matrix
automatically fit to this raw data to avoid typos and round off error in
the interaction parameters. CatMAP is capable of automatically
constructing this fit for the self-interaction parameters of the &#8220;first
order&#8221; model described above. Fitting the second order parameters is
more complicated, and should be done manually. In order to create the
automatic fit it is necessary to have the energies as a function of
coverage. For example, we can use the following input file with some
soon to be published data for coverage dependent O and CO adsorption,
along with transition-state energies from previous examples. Note that
there is now a new &#8220;coverage&#8221; column:</p>
<div class="highlight-python"><div class="highlight"><pre>surface_name    site_name   species_name    coverage    formation_energy    bulk_structure  frequencies other_parameters    reference
None    gas CO2 0   2.46    None    [1333,2349,667,667] []  &quot;NIST&quot;
None    gas CO  0   2.77    None    [2170]  []  &quot;Energy Environ. Sci., 3, 1311-1315 (2010)&quot;^M
None    gas O2  0   5.42    None    [1580]  []  NIST^M
Rh  111 O   0.25    0.54    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Pt  111 O   0.25    1.62    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Pd  111 O   0.25    1.55    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Cu  111 O   0.25    1.08    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Ag  111 O   0.25    2.04    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Au  111 O   0.25    2.75    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Rh  111 O   0.50    0.76    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Pt  111 O   0.50    1.9 fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Pd  111 O   0.50    1.88    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Cu  111 O   0.50    1.755   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Ag  111 O   0.50    2.585   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Au  111 O   0.50    3.065   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Rh  111 O   0.75    1.043   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Pt  111 O   0.75    2.243   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Pd  111 O   0.75    2.237   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Cu  111 O   0.75    2.423   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Ag  111 O   0.75    3.147   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Au  111 O   0.75    3.5 fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Rh  111 O   1.00    1.31    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Pt  111 O   1.00    2.592   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Pd  111 O   1.00    2.665   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Cu  111 O   1.00    2.925   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Ag  111 O   1.00    3.55    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Au  111 O   1.00    3.797   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Rh  111 CO  0.25    1.25    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Pt  111 CO  0.25    1.49    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Pd  111 CO  0.25    1.3 fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Cu  111 CO  0.25    2.53    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Ag  111 CO  0.25    2.96    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Rh  111 CO  0.50    1.58    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Pt  111 CO  0.50    1.915   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Ag  111 CO  0.50    3.07    fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Rh  111 CO  1.00    2.193   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Pt  111 CO  1.00    2.473   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Pd  111 CO  1.00    2.335   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Cu  111 CO  1.00    3.455   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Ag  111 CO  1.00    3.247   fcc []  []  Khan et. al. Parameterization of an interaction model for adsorbate-adsorbate interactions
Rh  111 O-CO    0.25    3.1 fcc []  []  &quot;Angew. Chem. Int. Ed., 47, 4835 (2008)&quot;
Pt  111 O-CO    0.25    4.04    fcc []  []  &quot;Angew. Chem. Int. Ed., 47, 4835 (2008)&quot;
Pd  111 O-CO    0.25    4.2 fcc []  []  &quot;Angew. Chem. Int. Ed., 47, 4835 (2008)&quot;
Cu  111 O-CO    0.25    4.18    fcc []  []  &quot;Angew. Chem. Int. Ed., 47, 4835 (2008)&quot;
Ag  111 O-CO    0.25    5.05    fcc []  []  &quot;Angew. Chem. Int. Ed., 47, 4835 (2008)&quot;
Au  111 O-CO    0.25    5.74    fcc []  []  &quot;Angew. Chem. Int. Ed., 47, 4835 (2008)&quot;
Rh  111 O-O 0.25    3.79    fcc []  []  Falsig et al (2012)
Pt  111 O-O 0.25    5.35    fcc []  []  Falsig et al (2012)
Pd  111 O-O 0.25    5.34    fcc []  []  Falsig et al (2012)
Cu  111 O-O 0.25    4.74    fcc []  []  Falsig et al (2012)
Ag  111 O-O 0.25    5.98    fcc []  []  Falsig et al (2012)
Au  111 O-O 0.25    7.22    fcc []  []  Falsig et al (2012)
</pre></div>
</div>
<p>Naturally the transition-states only need to be computed at a single
coverage, since they do not have self interaction parameters. It is also
worth noting that even if not all metals have coverage dependent data,
they can still be included in the analysis (their interaction parameters
will be estimated from scaling).</p>
<p>You can find the above data table as coverage_energies.txt in the
folder for this tutorial. If you make the following changes to
CO_oxidation.mkm then the parameters will be determined automatically:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span class="n">input_file</span> <span class="o">=</span> <span class="s">&#39;coverage_energies.txt&#39;</span>
<span class="n">interaction_fitting_mode</span> <span class="o">=</span> <span class="s">&#39;average_self&#39;</span>
</pre></div>
</div>
<p>The &#8220;average_self&#8221; fitting mode refers to the fact that the energies in
the input file are average adsorption energies, and that only the self
interaction parameters will be fit. The only other option is
&#8220;differential_self&#8221; which assumes that the inputs are differential
adsorption energies and fits self interaction parameters.</p>
<p>Now, if you run mkm_job.py then you will get the same output as when
the self interaction parameters were input manually (because the
parameters were pre-determined by this procedure). If you want to view
the parameters then you can do so by looking at the
&#8220;self_interaction_parameter_dict&#8221; in the CO_oxidation.log. You
should notice that they match the parameters that were input manually
earlier. The advantage of the automatic fitting procedure is that any
changes in the &#8220;interaction response function&#8221; will automatically be
compensated for in the fit (i.e. if the smoothing value is decreased,
cutoff is changed, etc.). It also makes it easier to generalize the
model to inputs coming from different calculation methods, functionals,
etc.</p>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Including Adsorbate-Adsorbate Interactions</a><ul>
<li><a class="reference internal" href="#multi-site-adsorbates-and-maximum-coverages">Multi-site adsorbates and maximum coverages</a><ul>
<li><a class="reference internal" href="#multi-site-adsorption">Multi-site adsorption</a></li>
<li><a class="reference internal" href="#maximum-coverages">Maximum coverages</a></li>
</ul>
</li>
<li><a class="reference internal" href="#coverage-dependent-adsorption-eneriges">Coverage dependent adsorption eneriges</a><ul>
<li><a class="reference internal" href="#first-order-adsorption-energy-model">First order adsorption energy model</a><ul>
<li><a class="reference internal" href="#interaction-response-function">Interaction response function</a></li>
<li><a class="reference internal" href="#interaction-matrix">Interaction matrix</a></li>
</ul>
</li>
<li><a class="reference internal" href="#implementation-in-catmap">Implementation in CatMAP</a><ul>
<li><a class="reference internal" href="#relevant-attributes">Relevant Attributes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#co-oxidation-example">CO Oxidation Example</a><ul>
<li><a class="reference internal" href="#including-coverage-dependent-interactions">Including coverage-dependent interactions</a></li>
<li><a class="reference internal" href="#including-scaled-cross-interactions">Including scaled cross interactions</a></li>
<li><a class="reference internal" href="#using-catmap-to-fit-self-interactions">Using CatMAP to fit self interactions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="thermodynamic_descriptors.html"
                        title="previous chapter">Using Thermodynamic Descriptors</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="electrochemistry.html"
                        title="next chapter">Electrochemistry</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/topics/including_adsorbate_adsorbate_interactions.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="electrochemistry.html" title="Electrochemistry"
             >next</a> |</li>
        <li class="right" >
          <a href="thermodynamic_descriptors.html" title="Using Thermodynamic Descriptors"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">CatMAP 0.2.79 documentation</a> &raquo;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >Topics</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, Andrew J. Medford.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
  </body>
</html>